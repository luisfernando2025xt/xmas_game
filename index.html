<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>VIP Xmas Challenge: Santa XXL ðŸŽ…</title>
<style>
  body {
    background: #0b0b2f;
    font-family: 'Arial', sans-serif;
    color: #fff;
    text-align: center;
    padding: 20px;
  }
  h1 { color: #ffd700; font-size: 2.5em; }
  #game-area {
    margin-top: 30px;
    position: relative;
    width: 500px;
    height: 500px;
    margin-left: auto;
    margin-right: auto;
    border: 3px solid #ffd700;
    border-radius: 15px;
    background: #1a1a4d;
  }
  .santa {
    position: absolute;
    top: 150px;
    left: 150px;
    font-size: 5em;
  }
  .hat {
    position: absolute;
    width: 50px;
    height: 50px;
    background: red;
    border-radius: 50%;
    cursor: grab;
    font-size: 1em;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    user-select: none;
    transition: all 0.2s ease;
  }
  #message { margin-top: 20px; min-height: 50px; font-size: 1.3em; color: #00ff99; }
  .game-btn {
    margin-top: 20px;
    padding: 10px 25px;
    font-size: 1em;
    cursor: pointer;
    background: #ffd700;
    border: none;
    border-radius: 5px;
  }
</style>
</head>
<body>
<h1>ðŸŽ„ VIP Xmas Challenge: Santa XXL ðŸŽ…</h1>
<p>Drag the small hat onto the big Santa. Watch out! It jumps if you miss ðŸ˜†</p>

<div id="game-area">
  <div class="santa">ðŸŽ…</div>
  <div class="hat" id="hat">ðŸŽ©</div>
</div>
<div id="message"></div>
<button class="game-btn" id="resetBtn">Restart Game</button>

<script>
const hat = document.getElementById("hat");
const gameArea = document.getElementById("game-area");
const message = document.getElementById("message");
const resetBtn = document.getElementById("resetBtn");

let dragging = false;

// Place hat randomly inside game area
function randomHatPosition(){
  const maxX = gameArea.offsetWidth - hat.offsetWidth;
  const maxY = gameArea.offsetHeight - hat.offsetHeight;
  hat.style.left = Math.floor(Math.random() * maxX) + 'px';
  hat.style.top = Math.floor(Math.random() * maxY) + 'px';
}
randomHatPosition();

// Drag logic
hat.addEventListener('mousedown', ()=>{ dragging = true; });
document.addEventListener('mouseup', ()=>{
  if(dragging){
    dragging = false;
    checkHat();
  }
});
document.addEventListener('mousemove', (e)=>{
  if(dragging){
    const rect = gameArea.getBoundingClientRect();
    let x = e.clientX - rect.left - hat.offsetWidth/2;
    let y = e.clientY - rect.top - hat.offsetHeight/2;
    x = Math.max(0, Math.min(gameArea.offsetWidth - hat.offsetWidth, x));
    y = Math.max(0, Math.min(gameArea.offsetHeight - hat.offsetHeight, y));
    hat.style.left = x + 'px';
    hat.style.top = y + 'px';
  }
});

// Check if hat is on Santa
function checkHat(){
  const santaX = 150;
  const santaY = 150;
  const santaSize = 150; // bigger Santa
  const hatX = parseInt(hat.style.left);
  const hatY = parseInt(hat.style.top);

  if(hatX > santaX + 50 && hatX < santaX + santaSize - 50 &&
     hatY > santaY - 20 && hatY < santaY + 30){
    message.innerText = "ðŸŽ‰ Perfect! VIP Tip: Precision and patience lead to wealth!";
    hat.style.left = santaX + 60 + 'px';
    hat.style.top = santaY - 10 + 'px';
  } else {
    const phrases = [
      "ðŸ˜† Oops! Santa dodged the hat!",
      "ðŸ˜‚ Missed! Santa laughs at your attempt!",
      "ðŸ˜… Try again! Santa is tricky today!",
      "ðŸ¤£ Santa's head moves! Focus VIP!"
    ];
    message.innerText = phrases[Math.floor(Math.random()*phrases.length)];
    randomHatPosition(); // hat jumps to new spot
  }
}

// Restart
resetBtn.addEventListener("click", ()=>{
  message.innerText = "";
  randomHatPosition();
});
</script>
</body>
</html>
