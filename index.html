<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>VIP Xmas Tree Challenge üéÑ</title>
<style>
  body {
    background: #0b0b2f;
    font-family: 'Arial', sans-serif;
    color: #fff;
    text-align: center;
    padding: 20px;
  }
  h1 { color: #ffd700; font-size: 2.5em; }
  #game-area {
    margin: 30px auto;
    position: relative;
    width: 400px;
    height: 500px;
    border: 3px solid #ffd700;
    border-radius: 10px;
    background: #1a1a4d;
  }
  .tree {
    position: absolute;
    width: 0;
    height: 0;
    border-left: 200px solid transparent;
    border-right: 200px solid transparent;
    border-bottom: 350px solid green;
    top: 50px;
    left: 0;
  }
  .ball {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: red;
    position: absolute;
    cursor: grab;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    user-select: none;
    font-size: 1em;
    transition: all 0.2s ease;
  }
  #message {
    margin-top: 20px;
    min-height: 50px;
    font-size: 1.2em;
    color: #00ff99;
  }
  .game-btn {
    margin-top: 20px;
    padding: 10px 25px;
    font-size: 1em;
    cursor: pointer;
    background: #ffd700;
    border: none;
    border-radius: 5px;
  }
</style>
</head>
<body>
<h1>üéÑ VIP Xmas Tree Challenge üéÅ</h1>
<p>Drag the balls onto the tree. Can you decorate it perfectly?</p>

<div id="game-area">
  <div class="tree"></div>
</div>
<div id="message"></div>
<button class="game-btn" id="resetBtn">Restart Game</button>

<script>
const gameArea = document.getElementById("game-area");
const message = document.getElementById("message");
const resetBtn = document.getElementById("resetBtn");

let balls = [];
let targets = [
  {x:180, y:100, placed:false},
  {x:140, y:180, placed:false},
  {x:220, y:180, placed:false},
  {x:100, y:260, placed:false},
  {x:260, y:260, placed:false}
];

function createBalls(){
  const colors = ["red","blue","yellow","purple","orange"];
  balls = [];
  for(let i=0;i<5;i++){
    const ball = document.createElement("div");
    ball.classList.add("ball");
    ball.style.background = colors[i];
    ball.style.left = (50 + i*60) + "px";
    ball.style.top = "400px";
    ball.dataset.index = i;
    gameArea.appendChild(ball);
    balls.push(ball);
    addDrag(ball);
  }
}
createBalls();

function addDrag(ball){
  let dragging = false;
  let offsetX, offsetY;
  
  ball.addEventListener("mousedown", e=>{
    dragging = true;
    offsetX = e.offsetX;
    offsetY = e.offsetY;
  });
  
  document.addEventListener("mouseup", ()=>{
    if(dragging){
      dragging = false;
      checkPlacement(ball);
    }
  });
  
  document.addEventListener("mousemove", e=>{
    if(dragging){
      const rect = gameArea.getBoundingClientRect();
      let x = e.clientX - rect.left - offsetX;
      let y = e.clientY - rect.top - offsetY;
      x = Math.max(0, Math.min(gameArea.offsetWidth - ball.offsetWidth, x));
      y = Math.max(0, Math.min(gameArea.offsetHeight - ball.offsetHeight, y));
      ball.style.left = x + 'px';
      ball.style.top = y + 'px';
    }
  });
}

function checkPlacement(ball){
  const ballX = parseInt(ball.style.left) + 20; // center
  const ballY = parseInt(ball.style.top) + 20;
  const index = parseInt(ball.dataset.index);
  
  const target = targets[index];
  const distance = Math.sqrt(Math.pow(ballX - target.x,2) + Math.pow(ballY - target.y,2));
  
  if(distance < 30){
    ball.style.left = target.x - 20 + "px";
    ball.style.top = target.y - 20 + "px";
    target.placed = true;
    message.innerText = "üéâ Perfect placement! VIP Tip: Patience and precision pay off!";
    checkWin();
  } else {
    message.innerText = "üòÜ Ooops! The ball bounced away! Try again!";
    ball.style.left = (50 + index*60) + "px";
    ball.style.top = "400px";
  }
}

function checkWin(){
  if(targets.every(t => t.placed)){
    message.innerText = "üèÜ Amazing! You decorated the VIP Xmas Tree perfectly! üéÑüíé";
  }
}

resetBtn.addEventListener("click", ()=>{
  message.innerText = "";
  targets.forEach(t=>t.placed=false);
  balls.forEach((ball,i)=>{
    ball.style.left = (50 + i*60) + "px";
    ball.style.top = "400px";
  });
});
</script>
</body>
</html>
