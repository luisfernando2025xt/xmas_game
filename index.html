<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>VIP Xmas: Put the Hat on Santa ðŸŽ…</title>
<style>
  body {
    background: #0b0b2f;
    font-family: 'Arial', sans-serif;
    color: #fff;
    text-align: center;
    padding: 20px;
  }
  h1 { color: #ffd700; font-size: 2.5em; }
  #game-area { margin-top: 30px; position: relative; display: inline-block; }
  #santa { width: 300px; height: auto; display: block; margin: 0 auto; }
  #hat {
    width: 80px;
    height: auto;
    position: absolute;
    cursor: grab;
    user-select: none;
    transition: all 0.2s ease;
  }
  #message { margin-top: 20px; min-height: 50px; font-size: 1.2em; color: #00ff99; }
  .game-btn {
    margin-top: 20px;
    padding: 10px 20px;
    font-size: 1em;
    cursor: pointer;
    background: #ffd700;
    border: none;
    border-radius: 5px;
  }
</style>
</head>
<body>
<h1>ðŸŽ„ VIP Xmas Challenge: Put the Hat on Santa ðŸŽ…</h1>
<p>Drag the hat onto Santa's head. But beware! It moves each time you try ðŸ˜†</p>

<div id="game-area">
  <img id="santa" src="https://i.ibb.co/8bB6H6H/santa.png" alt="Santa">
  <img id="hat" src="https://i.ibb.co/7WJ2Xbh/hat.png" alt="Hat">
</div>

<div id="message"></div>
<button class="game-btn" id="resetBtn">Restart Game</button>

<script>
const hat = document.getElementById("hat");
const santa = document.getElementById("santa");
const message = document.getElementById("message");
const resetBtn = document.getElementById("resetBtn");
const gameArea = document.getElementById("game-area");

let hatX = 50;
let hatY = 200;
let dragging = false;

// Place hat at random position initially
function randomHatPosition(){
  const maxX = gameArea.offsetWidth - hat.offsetWidth;
  const maxY = gameArea.offsetHeight - hat.offsetHeight;
  hatX = Math.floor(Math.random() * maxX);
  hatY = Math.floor(Math.random() * maxY);
  hat.style.left = hatX + 'px';
  hat.style.top = hatY + 'px';
}
randomHatPosition();

// Drag & Drop
hat.addEventListener('mousedown', (e)=>{
  dragging = true;
});

document.addEventListener('mousemove', (e)=>{
  if(dragging){
    const rect = gameArea.getBoundingClientRect();
    let x = e.clientX - rect.left - hat.offsetWidth/2;
    let y = e.clientY - rect.top - hat.offsetHeight/2;
    hat.style.left = x + 'px';
    hat.style.top = y + 'px';
  }
});

document.addEventListener('mouseup', ()=>{
  if(dragging){
    dragging = false;
    checkHat();
  }
});

function checkHat(){
  const santaRect = santa.getBoundingClientRect();
  const hatRect = hat.getBoundingClientRect();
  
  // Convert to gameArea coordinates
  const offsetX = gameArea.getBoundingClientRect().left;
  const offsetY = gameArea.getBoundingClientRect().top;
  const hatLeft = hatRect.left - offsetX;
  const hatTop = hatRect.top - offsetY;
  const santaLeft = 100; // Santa head approximate x
  const santaTop = 40;   // Santa head approximate y
  const santaWidth = 100;
  const santaHeight = 60;

  if(hatLeft > santaLeft && hatLeft < santaLeft + santaWidth &&
     hatTop > santaTop && hatTop < santaTop + santaHeight){
    message.innerText = "ðŸŽ‰ Perfect! You put the hat on Santa! VIP Tip: Big things take precision!";
    hat.style.left = santaLeft + 20 + 'px';
    hat.style.top = santaTop - 10 + 'px';
  } else {
    message.innerText = "ðŸ˜† Oops! Santa moved the hat! Try again!";
    randomHatPosition(); // Move hat to a new random place
  }
}

// Restart
resetBtn.addEventListener("click", ()=>{
  message.innerText = "";
  randomHatPosition();
});
</script>
</body>
</html>
