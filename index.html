<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>VIP Xmas: Put the Hat on Santa ðŸŽ…</title>
<style>
  body {
    background: #0b0b2f;
    font-family: 'Arial', sans-serif;
    color: #fff;
    text-align: center;
    padding: 20px;
  }
  h1 { color: #ffd700; font-size: 2em; }
  #game-area {
    margin-top: 30px;
    position: relative;
    width: 300px;
    height: 300px;
    margin-left: auto;
    margin-right: auto;
    border: 2px solid #ffd700;
    border-radius: 10px;
    background: #1a1a4d;
  }
  .santa {
    position: absolute;
    top: 200px;
    left: 130px;
    font-size: 2em;
  }
  .hat {
    position: absolute;
    width: 40px;
    height: 40px;
    background: red;
    border-radius: 50%;
    cursor: pointer;
    font-size: 1em;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    user-select: none;
    transition: all 0.2s ease;
  }
  #message { margin-top: 20px; min-height: 40px; font-size: 1.2em; color: #00ff99; }
  .game-btn {
    margin-top: 20px;
    padding: 10px 20px;
    font-size: 1em;
    cursor: pointer;
    background: #ffd700;
    border: none;
    border-radius: 5px;
  }
</style>
</head>
<body>
<h1>ðŸŽ„ VIP Xmas Challenge: Put the Hat on Santa ðŸŽ…</h1>
<p>Drag the hat onto Santa. Watch out! It moves if you miss ðŸ˜†</p>

<div id="game-area">
  <div class="santa">ðŸŽ…</div>
  <div class="hat" id="hat">ðŸŽ©</div>
</div>
<div id="message"></div>
<button class="game-btn" id="resetBtn">Restart Game</button>

<script>
const hat = document.getElementById("hat");
const gameArea = document.getElementById("game-area");
const message = document.getElementById("message");
const resetBtn = document.getElementById("resetBtn");

let dragging = false;

// Random initial position for hat
function randomHatPosition(){
  const maxX = gameArea.offsetWidth - hat.offsetWidth;
  const maxY = gameArea.offsetHeight - hat.offsetHeight - 50; // leave space for Santa
  hat.style.left = Math.floor(Math.random() * maxX) + 'px';
  hat.style.top = Math.floor(Math.random() * maxY) + 'px';
}
randomHatPosition();

// Drag logic
hat.addEventListener('mousedown', ()=>{ dragging = true; });
document.addEventListener('mouseup', ()=>{ 
  if(dragging){ 
    dragging = false; 
    checkHat();
  }
});
document.addEventListener('mousemove', (e)=>{
  if(dragging){
    const rect = gameArea.getBoundingClientRect();
    let x = e.clientX - rect.left - hat.offsetWidth/2;
    let y = e.clientY - rect.top - hat.offsetHeight/2;
    x = Math.max(0, Math.min(gameArea.offsetWidth - hat.offsetWidth, x));
    y = Math.max(0, Math.min(gameArea.offsetHeight - hat.offsetHeight, y));
    hat.style.left = x + 'px';
    hat.style.top = y + 'px';
  }
});

// Check if hat is on Santa
function checkHat(){
  const santaX = 130;
  const santaY = 200;
  const santaSize = 40;

  const hatX = parseInt(hat.style.left);
  const hatY = parseInt(hat.style.top);

  if(hatX > santaX - 10 && hatX < santaX + santaSize && hatY > santaY - 10 && hatY < santaY + santaSize){
    message.innerText = "ðŸŽ‰ Perfect! VIP Tip: Precision wins big deals!";
    hat.style.left = santaX + 'px';
    hat.style.top = (santaY - 30) + 'px';
  } else {
    message.innerText = "ðŸ˜† Oops! Santa moved the hat! Try again!";
    randomHatPosition();
  }
}

// Restart
resetBtn.addEventListener("click", ()=>{
  message.innerText = "";
  randomHatPosition();
});
</script>
</body>
</html>
